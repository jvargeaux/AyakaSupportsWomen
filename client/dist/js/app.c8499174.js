(function(t){function e(e){for(var a,i,c=e[0],r=e[1],l=e[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00aa":function(t,e,n){"use strict";var a=n("7813"),o=n.n(a);o.a},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"0870":function(t,e,n){},"14a7":function(t,e,n){"use strict";var a=n("77e5"),o=n.n(a);o.a},"2ec5":function(t,e,n){"use strict";var a=n("d503"),o=n.n(a);o.a},"3c2f":function(t,e,n){"use strict";var a=n("9473"),o=n.n(a);o.a},"426d":function(t,e,n){"use strict";var a=n("6cb7"),o=n.n(a);o.a},"4c14":function(t,e,n){"use strict";var a=n("6d42"),o=n.n(a);o.a},"4f2a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navigation"),n("div",{staticClass:"router"},[n("router-view")],1),n("Footer")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("div",{staticClass:"bgOverlay"}),n("div",{staticClass:"bg"}),t.user?n("div",{staticClass:"accountStatus"},[n("h6",[t._v("Welcome, "+t._s(t.user.name))]),n("button",{on:{click:t.logout}},[t._v("Logout")])]):n("div",{staticClass:"accountStatus"},[t._m(0)]),t._m(1),n("nav",[n("ul",[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),n("li",[n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("li",[n("router-link",{attrs:{to:"/list"}},[t._v("Cafe List")])],1),t.user&&"fakeAdmin@gmail.com"===t.user.email?n("li",[n("router-link",{attrs:{to:"/api"}},[t._v("API")])],1):t._e(),t.user?n("li",[n("router-link",{attrs:{to:"/profile"}},[t._v("Profile")])],1):t._e()])])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h6",[n("a",{staticClass:"textLink",attrs:{href:".#/login"}},[t._v("Login")]),t._v(" or "),n("a",{staticClass:"textLink",attrs:{href:".#/register"}},[t._v("Create An Account")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"./"}},[n("h1",[t._v("Cafe Tour Tokyo")])])}],r=(n("d3b7"),"localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/dashboard":"https://"+window.location.host+"/dashboard"),l={name:"Navigation",props:{},data:function(){return{user:null}},methods:{checkLoginStatus:function(){var t=this;fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:document.cookie}}).then((function(t){return t.json()})).then((function(e){console.log(e),t.user=e})).catch((function(t){return console.log(t)}))},logout:function(){document.cookie=null,location.reload()}},mounted:function(){this.checkLoginStatus()}},u=l,p=(n("3c2f"),n("2877")),f=Object(p["a"])(u,i,c,!1,null,"076ed9dc",null),d=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"})},h=[],v={name:"Footer",props:{}},_=v,g=(n("abe9"),Object(p["a"])(_,m,h,!1,null,"68bd1acc",null)),C=g.exports,b={name:"app",components:{Navigation:d,Footer:C}};document.title="Cafe Tour Tokyo";var w,y=b,E=(n("034f"),Object(p["a"])(y,o,s,!1,null,null,null)),j=E.exports,k=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Blog")],1)},O=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blog"},[n("p",{attrs:{id:"output"}}),n("h1",[t._v("Blog")]),t._l(t.posts,(function(t,e){return n("div",{key:e,staticClass:"postContainer"},[n("Post",{attrs:{post:t}})],1)}))],2)},T=[],P=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post"},[n("div",{staticClass:"post-header"},[n("h3",{staticClass:"post-title"},[t._v(t._s(t.post.title))]),n("h5",{staticClass:"post-location"},[t._v(t._s(t.post.location))])]),n("h6",{staticClass:"post-date"},[t._v(t._s(t.post.date))]),n("p",{staticClass:"post-content"},[t._v(t._s(t.post.content))])])}),$=[],L={name:"Post",props:{post:{title:String,location:String,date:String,content:String}}},B=L,M=(n("c5f8"),Object(p["a"])(B,P,$,!1,null,"65b8754a",null)),G=M.exports,A="localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/api/posts":"https://"+window.location.host+"/api/posts",I={name:"Blog",components:{Post:G},data:function(){return{items:"",posts:[]}},methods:{apiGetPosts:function(){var t=this;fetch(A,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.posts.push(e)}))})).catch((function(t){document.getElementById("output").innerHTML=t}))}},created:function(){this.apiGetPosts()}},N=I,F=(n("7a8a"),Object(p["a"])(N,S,T,!1,null,"e6c123fa",null)),H=F.exports,R={name:"Home",components:{Blog:H}},W=R,J=(n("cccb"),Object(p["a"])(W,x,O,!1,null,null,null)),q=J.exports,U=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("What is this place?")]),n("p",[t._v("Cafe Tour Tokyo is for people with particular tastes in coffee, public working spaces, or places to relax and enjoy a meal."),n("br"),n("br"),t._v("We aim to be a place where the data has been gathered for you. You can get a bird's eye view of the cafe scene in Tokyo, exploring all the many kinds of environments and beverages these cafes have to offer, and building up your own list of hand-picked favorites to come back to.")])])}],D={name:"About"},Y=D,K=(n("4c14"),Object(p["a"])(Y,U,z,!1,null,"9c09d24e",null)),Q=K.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cafeList"},[n("CompactCafeList")],1)},X=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{attrs:{id:"output"}}),t._l(t.cafes,(function(e,a){return n("div",{key:a,staticClass:"cafeItem",on:{"!click":function(e){return t.toggleExpand(a)}}},[t.expanded===a?n("Cafe",{attrs:{cafe:e}}):n("CompactCafe",{attrs:{cafe:e}})],1)}))],2)},tt=[],et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cafe"},[n("div",{staticClass:"cafe-header"},[n("h2",{staticClass:"name"},[t._v(t._s(t.cafe.name))]),n("h4",{staticClass:"city"},[t._v(t._s(t.cafe.city))])]),t._m(0),n("div",{staticClass:"information"},[n("div",{staticClass:"ratings"},[n("h6",{staticClass:"overall-rating"},[t._v("Overall: "+t._s(t.cafe.ratings.overall))]),n("p",[t._v("Cleanliness: "+t._s(t.cafe.ratings.cleanliness))]),n("p",[t._v("Coffee: "+t._s(t.cafe.ratings.coffee))]),n("p",[t._v("Food: "+t._s(t.cafe.ratings.food))]),n("p",[t._v("Usability: "+t._s(t.cafe.ratings.usability))]),n("p",[t._v("Price: "+t._s(t.cafe.ratings.price))])]),n("div",{staticClass:"features"},[n("p",[t._v("Wifi: "+t._s(t.cafe.features.wifi?"yes":"no"))]),n("p",[t._v("Seats: "+t._s(t.cafe.features.seats))]),n("p",[t._v("Free Water: "+t._s(t.cafe.features.water?"yes":"no"))])]),n("div",{staticClass:"location"},[n("p",[t._v(t._s(t.cafe.location.station)+" Station")]),n("p",[t._v(t._s(t.cafe.location.line))]),n("p",[t._v(t._s(t.cafe.location.minsFromStation)+" min walk")])])]),n("div",{staticClass:"posts"},[n("div",{staticClass:"post-header"},[n("h6",[t._v(t._s(t.cafe.posts.date))]),n("p",[t._v("Rating this visit: "+t._s(t.cafe.posts.visitRating))])]),n("div",{staticClass:"post-order"},[n("p",[t._v("Ordered:")]),n("h6",[t._v(t._s(t.cafe.posts.order))])]),n("p",{staticClass:"post-content"},[t._v(t._s(t.cafe.posts.textContent))])])])},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pics"},[n("div",{staticClass:"pic-placeholder"}),n("div",{staticClass:"pic-placeholder"}),n("div",{staticClass:"pic-placeholder"}),n("div",{staticClass:"pic-placeholder"})])}],at={name:"Cafe",props:{cafe:{name:String,city:String,ratings:{overall:0,cleanliness:0,coffee:0,food:0,usability:0,price:0},features:{wifi:!1,seats:0,water:!1},location:{station:String,line:String,minsFromStation:0},posts:{date:String,visitRating:0,order:String,textContent:String}}},data:function(){return{}}},ot=at,st=(n("6b10"),Object(p["a"])(ot,et,nt,!1,null,"9b85cf90",null)),it=st.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"compact-cafe"},[n("div",{staticClass:"header"},[n("h4",[t._v(t._s(t.cafe.name))]),n("h6",[t._v(t._s(t.cafe.city))])]),n("div",{staticClass:"rating"},[n("p",[t._v("Rating: "+t._s(t.cafe.ratings.overall))]),n("p",[t._v(t._s(t.cafe.posts.date))])]),n("div",{staticClass:"location"},[n("p",[t._v(t._s(t.cafe.location.station)+" Station")]),n("p",[t._v(t._s(t.cafe.location.line))])])])},rt=[],lt={name:"CompactCafe",components:{},props:{cafe:{name:String,city:String,ratings:{overall:0},location:{station:String,line:String},posts:{date:String}}},data:function(){return{}}},ut=lt,pt=(n("426d"),Object(p["a"])(ut,ct,rt,!1,null,"63202e71",null)),ft=pt.exports,dt="localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/api/cafes":"https://"+window.location.host+"/api/cafes",mt={name:"CompactCafeList",components:{Cafe:it,CompactCafe:ft},data:function(){return{expanded:null,cafes:[]}},methods:{toggleExpand:function(t){this.expanded!==t?this.expanded=t:this.expanded=null},apiGetCafes:function(){var t=this;fetch(dt,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.cafes.push(e)}))})).catch((function(t){document.getElementById("output").innerHTML=t}))}},created:function(){this.apiGetCafes()}},ht=mt,vt=(n("2ec5"),Object(p["a"])(ht,Z,tt,!1,null,"6d5921c0",null)),_t=vt.exports,gt={name:"List",components:{CompactCafeList:_t},data:function(){return{}}},Ct=gt,bt=(n("00aa"),Object(p["a"])(Ct,V,X,!1,null,"32630b45",null)),wt=bt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map"},[n("h1",[t._v("This is a map page")]),n("GoogleMap")],1)},Et=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.initMap}},[t._v("Init Map")]),n("div",{attrs:{id:"map"}})])},kt=[],xt=(n("d81d"),{name:"GoogleMap",components:{},data:function(){return{map:null}},methods:{initMap:function(){w=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.map=w}},mounted:function(){this.initMap()}}),Ot=xt,St=(n("e89d"),Object(p["a"])(Ot,jt,kt,!1,null,"120e8204",null)),Tt=St.exports,Pt={name:"Map",components:{GoogleMap:Tt},data:function(){return{}}},$t=Pt,Lt=Object(p["a"])($t,yt,Et,!1,null,"dc31cb88",null),Bt=Lt.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apiContainer"},[n("div",{staticClass:"buttonContainer"},[n("button",{staticClass:"apiButton",on:{click:t.apiGetCafes}},[t._v("API Get Cafes")]),n("button",{staticClass:"apiButton",on:{click:t.apiGetPosts}},[t._v("API Get Posts")])]),n("div",{staticClass:"apiOutput"},[t._l(t.cafes,(function(t){return n("li",{key:t.id},[n("Cafe",{attrs:{cafe:t}})],1)})),t._l(t.posts,(function(t){return n("li",{key:t.id},[n("Post",{attrs:{post:t}})],1)}))],2)])},Gt=[],At="localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/api/cafes":"https://"+window.location.host+"/api/cafes",It="localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/api/posts":"https://"+window.location.host+"/api/posts",Nt={name:"API",components:{Post:G,Cafe:it},data:function(){return{cafes:[],posts:[]}},methods:{apiGetCafes:function(){var t=this;this.posts.length&&(this.posts=[]),this.cafes.length||fetch(At,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.cafes.push(e)}))})).catch((function(t){document.getElementById("output").innerHTML=t}))},apiGetPosts:function(){var t=this;this.cafes.length&&(this.cafes=[]),this.posts.length||fetch(It,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){e.forEach((function(e){t.posts.push(e)}))})).catch((function(t){document.getElementById("output").innerHTML=t}))}}},Ft=Nt,Ht=(n("14a7"),Object(p["a"])(Ft,Mt,Gt,!1,null,"c7c635dc",null)),Rt=Ht.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loginForm"},[n("h4",[t._v("Login")]),n("p",{staticClass:"hint"},[t._v('For test purposes, use "fakeAdmin@gmail.com" for email and "fake" for password.')]),n("form",{on:{submit:function(e){return e.preventDefault(),t.loginClick(e)}}},[t._m(0),t._m(1),n("input",{attrs:{type:"submit",value:"Log In"}})]),n("p",{attrs:{id:"output"}})])},Jt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputContainer"},[n("span",[t._v("Email: ")]),n("input",{attrs:{type:"text",name:"email"}}),n("br")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputContainer"},[n("span",[t._v("Password: ")]),n("input",{attrs:{type:"password",name:"password"}}),n("br")])}],qt=(n("ac1f"),n("5319"),"localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/login":"https://"+window.location.host+"/login"),Ut={name:"Login",components:{},data:function(){return{}},methods:{loginClick:function(){var t={email:document.getElementsByName("email")[0].value,password:document.getElementsByName("password")[0].value};fetch(qt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){201===t.status?(console.log(t),t.json().then((function(t){document.cookie=t.token,location.replace("./")})).catch((function(t){return console.log(t)}))):t.text().then((function(t){document.getElementById("output").innerHTML=t,console.log("my cookies: "+document.cookie)})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)}))}}},zt=Ut,Dt=(n("dbdf"),Object(p["a"])(zt,Wt,Jt,!1,null,"30cabed0",null)),Yt=Dt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loginForm"},[n("h4",[t._v("Create an Account")]),n("p",{staticClass:"hint",attrs:{id:"successOutput"}}),t.submitted?t._e():n("div",[n("p",{staticClass:"hint"},[t._v("* Passwords must contain at least 4 characters.")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.registerClick(e)}}},[t._m(0),t._m(1),t._m(2),t._m(3),n("input",{attrs:{type:"submit",value:"Sign Up"}})]),n("p",{attrs:{id:"output"}})])])},Qt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputContainer"},[n("span",[t._v("Email (required): ")]),n("input",{attrs:{type:"text",name:"email"}}),n("br")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputContainer"},[n("span",[t._v("Password (required): ")]),n("input",{attrs:{type:"password",name:"password"}}),n("br")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputContainer"},[n("span",[t._v("Password Confirm (required): ")]),n("input",{attrs:{type:"password",name:"passwordRepeat"}}),n("br")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputContainer"},[n("span",[t._v("Name (optional): ")]),n("input",{attrs:{type:"text",name:"name"}}),n("br")])}],Vt=(n("b0c0"),"localhost"===window.location.hostname?"http://"+window.location.hostname+":5000/register":"https://"+window.location.host+"/register"),Xt={name:"Register",components:{},data:function(){return{submitted:!1}},methods:{registerClick:function(){var t=this,e={email:document.getElementsByName("email")[0].value,password:document.getElementsByName("password")[0].value,passwordRepeat:document.getElementsByName("passwordRepeat")[0].value,name:document.getElementsByName("name")[0].value};fetch(Vt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){201===e.status&&e.json().then((function(e){var n="User added:";e.name&&(n+="<br>Name: "+e.name),n+="<br>Email: "+e.email,t.submitted=!0,document.getElementById("successOutput").innerHTML=n})),e.json().then((function(t){console.log(t);var e="";t&&t.forEach((function(t){e+=t+"<br>"})),document.getElementById("output").innerHTML=e}))})).catch((function(t){console.log(t)}))},displaySucess:function(t){console.log(t)}}},Zt=Xt,te=(n("982f"),Object(p["a"])(Zt,Kt,Qt,!1,null,"1ffc2953",null)),ee=te.exports;a["a"].use(k["a"]);var ne=[{path:"/",name:"home",component:q},{path:"/about",name:"about",component:Q},{path:"/list",name:"list",component:wt},{path:"/map",name:"map",component:Bt},{path:"/api",name:"api",component:Rt},{path:"/login",name:"login",component:Yt},{path:"/register",name:"register",component:ee}],ae=new k["a"]({routes:ne}),oe=ae;a["a"].config.productionTip=!1,new a["a"]({router:oe,render:function(t){return t(j)}}).$mount("#app")},"57e9":function(t,e,n){},"5ced":function(t,e,n){},"5db6":function(t,e,n){},6226:function(t,e,n){},"6b10":function(t,e,n){"use strict";var a=n("de0f"),o=n.n(a);o.a},"6cb7":function(t,e,n){},"6d42":function(t,e,n){},"77e5":function(t,e,n){},7813:function(t,e,n){},"7a8a":function(t,e,n){"use strict";var a=n("57e9"),o=n.n(a);o.a},8246:function(t,e,n){},"85ec":function(t,e,n){},9473:function(t,e,n){},"982f":function(t,e,n){"use strict";var a=n("6226"),o=n.n(a);o.a},abe9:function(t,e,n){"use strict";var a=n("8246"),o=n.n(a);o.a},c5f8:function(t,e,n){"use strict";var a=n("4f2a"),o=n.n(a);o.a},cccb:function(t,e,n){"use strict";var a=n("5ced"),o=n.n(a);o.a},d503:function(t,e,n){},dbdf:function(t,e,n){"use strict";var a=n("5db6"),o=n.n(a);o.a},de0f:function(t,e,n){},e89d:function(t,e,n){"use strict";var a=n("0870"),o=n.n(a);o.a}});
//# sourceMappingURL=app.c8499174.js.map